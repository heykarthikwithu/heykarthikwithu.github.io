<!DOCTYPE html>
<html>
<head>
  <title>Search</title>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script>
    window.onload = search;
    function search() {
      $.getJSON( "data.json", function( data ) {
        var default_output = '';
        $.each( data.items, function( key, val ) {
          default_output += '<div><p><strong>' + val.title + '</strong><br>' + val.created + '<br>' + val.view_node + '</p></div>';
        });
        $('#filter-records').html(default_output);
      });
      var search_data = '';
      $.getJSON( "data.json", function( data ) {
        search_data = data.items;
      });
      $('#search').keyup(function(){
        var searchField = $(this).val();
        if(searchField === '')  {
          $('#filter-records').html('');
          return;
        }
        var regex = new RegExp(searchField, "i");
        var output = '';
        $.each(search_data, function(key, val){
          if (val.title.search(regex) != -1) {
            output += '<div><p><strong>' + val.title + '</strong><br>' + val.created + '<br>' + val.view_node + '</p></div>';
          }
        });
        $('#filter-records').html(output);
      });
    }
  </script>
  <link href="css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <form role="form">
    <div class="form-group">
      <input type="input" class="form-control input-lg" id="search" placeholder="Search">
    </div>
  </form>
  <div class="">
    <div class="col-md-12" id="filter-records"></div>
  </div>
</body>
</html>
