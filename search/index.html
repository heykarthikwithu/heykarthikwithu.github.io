---
layout: page
title: Search
description: Search for Jekyll Metro
---
<form class="searh-form" role="form">
<div id="search-form">
  <input type="text" class="search form-control" id="search" placeholder="Search...">
</div>
</form>
<div class="row" id="search-results"></div>

<script>
  window.onload = search;
  function search() {
    $.getJSON( "data.json", function( data ) {
      var default_output = '';
      $.each( data.items, function( key, val ) {
        default_output += '' +
          '<div class="item col-md-4 col-sm-6 col-xs-12">' +
          '<div class="title">' + val.title + '</div>' +
          '<div class="created">' + val.created + '</div>' +
          '<div class="view">' + val.view_node + '</div>' +
          '</div>';
      });
      $('#search-results').html(default_output);
    });
    var search_data = '';
    $.getJSON( "data.json", function( data ) {
      search_data = data.items;
    });
    $('#search').keyup(function(){
      var searchField = $(this).val();
      var regex = new RegExp(searchField, "i");
      var output = '';
      $.each(search_data, function(key, val){
        if (val.title.search(regex) != -1) {
          output += '' +
            '<div class="item col-md-4 col-sm-6 col-xs-12">' +
            '<div class="title">' + val.title + '</div>' +
            '<div class="created">' + val.created + '</div>' +
            '<div class="view">' + val.view_node + '</div>' +
            '</div>';
        }
      });
      $('#search-results').html(output);
    });
  }
</script>
